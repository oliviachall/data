<!DOCTYPE html>

<html>
<head>
    <title>Aircraft Accidents in US Since 2000</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/styles.css" rel="stylesheet">
    <link href="media/css/jquery.dataTables.css" rel="stylesheet">
        <link href="media/css/demo_table.css" rel="stylesheet">
    <link href="media/css/demo_page.css" rel="stylesheet">
        
    
    
    
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>    
    
    <script src="http://code.highcharts.com/highcharts.js"></script>
    <script src="http://code.highcharts.com/modules/exporting.js"></script>
    
    <script src="ammap/ammap.js" type="text/javascript"></script>
    <script src="ammap/maps/js/usaLow.js" type="text/javascript"></script>
    <script src="ammap/themes/light.js" type="text/javascript"></script>
    
    
    <script src="media/js/jquery.dataTables.js" type="text/javascript"></script>
    <script src="media/js/jquery.dataTables.min.js" type="text/javascript"></script>
    
    <script src="js/bootstrap.js" type="text/javascript"></script>
    

</head>

<body>
<div class="container">

<div class="row">
<div class="col-md-12">
<h1>Aircraft Accidents in U.S. since 2000</h1>
<p><em>Click on each button to learn more about trends in airline safety.</em></p>
</div><!--col-md-12 end-->
</div><!--row end-->



<button class="btn btn-primary" a href="#" data-toggle="modal" data-target="#myModal1"><img src="images/crash.gif" style="float: none" width="80px"/>Crashes & Fatalities</button>

<div class="modal fade bs-example-modal-lg" id="myModal1" tabindex="-1" role="dialog" aria-labelledby="myModal1" aria-hidden="true">
  <div class="modal-dialog modal-lg" >
    <div class="modal-content" >
    
 

<div class="row">
<div class="col-md-12">
    <div class="subtitle">
<h2>Crashes and Fatalities</h2>
</div><!--subtitle end-->
<p>An increased focus on security and aircraft regulation following September 11, 2001 may have contributed to a decline in aircraft accidents in recent years.</p>
    <div class="chart1">
<div id="Chart1" style="width:100%; height:400px;"></div>
</div><!--chart1 end-->
</div><!--col-md-12 end-->
</div><!--row end-->

</div>
  </div>
</div>

<button class="btn btn-primary" a href="#" data-toggle="modal" data-target="#myModal2"><img src="images/cloud.gif" style="float: none" width="80px"/>Weather Conditions</button>

<div class="modal fade bs-example-modal-lg" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModal2" aria-hidden="true">
  <div class="modal-dialog modal-lg" >
    <div class="modal-content" >
    
 

<div class="row">
<div class="col-md-12">
    <div class="subtitle">
<h2>Weather Conditions Affect Flying Safety</h2>
</div><!--subtitle end-->
</div><!--col-md-12 end-->
</div><!--row end-->

<div class="row">
<div class="col-md-5">
<div class="weather_definitions">
    
<div class="vmc">
    <h4>Visual Meterological Conditions (VMC)</h4>
    <img src="images/sun.gif" alt="sun" width="100px" />
    <p>Flight is permitted because pilots have sufficient visibility to fly the aircraft and the ability to maintain visual separation from terrain and other aircraft.
</p>
</div><!--vmc end-->

<div class="imc">
        <h4>Instrument Meteorological Conditions (IMC)</h4>

    <img src="images/cloud.gif" alt="cloud" float="left" width="100px" />
<p>Flight is permitted based on reference to instruments rather than by outside visual references. Typically this means flying in cloudy or bad weather.
</p>
</div><!--imc end-->

</div><!--weather_definitions end-->
</div><!--col-md-5 end-->

<div class="col-md-7">
<div class="weather">
<div id="Chart2" style="width:100%; height:350px;"></div>
</div><!--weather end-->
</div><!--col-md-7 end-->
</div><!--row end-->

   </div>
  </div>
</div>





<button class="btn btn-primary" a href="#" data-toggle="modal" data-target="#myModal3"><img src="images/types.gif" style="float: none" width="80px"/>Types of Aircrafts</button>

<div class="modal fade bs-example-modal-lg" id="myModal3" tabindex="-1" role="dialog" aria-labelledby="myModal3" aria-hidden="true">
  <div class="modal-dialog modal-lg" >
    <div class="modal-content" >

<div class="row">
<div class="col-md-12">
    <div class="subtitle">
<h2>Types of Aircrafts</h2>
</div><!--subtitle end-->
</div><!--col-md-12 end-->
</div><!--row end-->

<div class="row">
    <div class="col-md-6">
    <div class="panel-group" id="accordion">
	      <div class="panel panel-default">
	      <div class="panel-heading">
	      <h4 class="panel-title">
		 <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne">
		     Airplanes <!--<span class="fltr glyphicon glyphicon-chevron-down"></span>-->
		 </a>
	      </h4>
	     </div>
	 <div id="collapseOne" class="panel-collapse collapse in">
	   <div class="panel-body">
         
            <img src="images/airplane.gif" alt="airplane" width="200px" />

<h1>1,518 fatal airplane accidents</h1>
<p>since Jan. 2000</p>	  
           </div>
	</div>
      </div>
              
    <div class="panel panel-default">
	     <div class="panel-heading">
	        <h4 class="panel-title">
		   <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo">
		      Helicopters <!--<span class="fltr glyphicon glyphicon-globe"></span>-->
		   </a>
	        </h4>
	     </div>
	       <div id="collapseTwo" class="panel-collapse collapse">
	        <div class="panel-body">
                    <img src="images/helicopter.gif" alt="helicopter" width="200px" />
<h1>170 fatal helicopter accidents</h1>
<p>since Jan. 2000</p>	 
	     </div>
	     </div>
	  </div>
    
    <div class="panel panel-default">
	     <div class="panel-heading">
	        <h4 class="panel-title">
		   <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree">
		      Gliders <!--<span class="fltr glyphicon glyphicon-globe"></span>-->
		   </a>
	        </h4>
	     </div>
	       <div id="collapseThree" class="panel-collapse collapse">
	        <div class="panel-body">
                    <img src="images/glider.gif" alt="glider" width="200px" />
<h1>35 fatal glider accidents</h1>
<p>since Jan. 2000</p>	 
	     </div>
	     </div>
	  </div>
    
    <div class="panel panel-default">
	     <div class="panel-heading">
	        <h4 class="panel-title">
		   <a data-toggle="collapse" data-parent="#accordion" href="#collapseFour">
		      Gyrocrafts <!--<span class="fltr glyphicon glyphicon-globe"></span>-->
		   </a>
	        </h4>
	     </div>
	       <div id="collapseFour" class="panel-collapse collapse">
	        <div class="panel-body">
                    <img src="images/gyrocraft.gif" alt="gyrocraft" width="200px" />
<h1>10 fatal gyrocraft accidents</h1>
<p>since Jan. 2000</p>	 
	     </div>
	     </div>
	  </div>
    
    <div class="panel panel-default">
	     <div class="panel-heading">
	        <h4 class="panel-title">
		   <a data-toggle="collapse" data-parent="#accordion" href="#collapseFive">
		      Balloons <!--<span class="fltr glyphicon glyphicon-globe"></span>-->
		   </a>
	        </h4>
	     </div>
	       <div id="collapseFive" class="panel-collapse collapse">
	        <div class="panel-body">
                    <img src="images/balloon.gif" alt="balloon" width="200px" />
<h1>4 fatal balloon accidents</h1>
<p>since Jan. 2000</p>	 
	     </div>
	     </div>
	  </div>
    
      <div class="panel panel-default">
	     <div class="panel-heading">
	        <h4 class="panel-title">
		   <a data-toggle="collapse" data-parent="#accordion" href="#collapseSix">
		      Ultralights <!--<span class="fltr glyphicon glyphicon-globe"></span>-->
		   </a>
	        </h4>
	     </div>
	       <div id="collapseSix" class="panel-collapse collapse">
	        <div class="panel-body">
                    <img src="images/ultralight.gif" alt="ultralight" width="200px" />
<h1>2 fatal ultralight accidents</h1>
<p>since Jan. 2000</p>	 
	     </div>
	     </div>
	  </div>
    
	 </div>
     

   </div><!--col-md-6 end-->
    
    <div class="col-md-6">
            <div id="Chart3" style="width: 100%; height: 400px; margin: 0 auto"></div>
    </div><!--col-md-6 end-->
</div><!--row end-->

    </div>
  </div>
</div>

<button class="btn btn-primary" a href="#" data-toggle="modal" data-target="#myModal4"><img src="images/make.gif" style="float: none" width="80px"/>Brands with Most Accidents</button>

<div class="modal fade bs-example-modal-lg" id="myModal4" tabindex="-1" role="dialog" aria-labelledby="myModal4" aria-hidden="true">
  <div class="modal-dialog modal-lg" >
    <div class="modal-content" >
 
<div class="row">
<div class="col-md-12">
    <div class="subtitle">
<h2>Brands of Aircrafts with Most Accidents</h2>
</div><!--subtitle end-->
</div><!--col-md-12 end-->
</div><!--row end-->

<div class="row">
    <div class="col-md-6">
            <div id="Chart4" style="width: 100%; height: 400px; margin: 0 auto"></div>
    </div><!--col-md-6 end-->
   <div class="col-md-6">
    <div class="panel-group" id="accordion">
	      <div class="panel panel-default">
	      <div class="panel-heading">
	      <h4 class="panel-title">
		 <a data-toggle="collapse" data-parent="#accordion" href="#collapseSeven">
		     Cessna <!--<span class="fltr glyphicon glyphicon-chevron-down"></span>-->
		 </a>
	      </h4>
	     </div>
	 <div id="collapseSeven" class="panel-collapse collapse in">
	   <div class="panel-body">
         
            <img src="images/cessna.gif" alt="cessna" width="100px" />

            <p>Headquarted in Wichita, Kansas</p>
            <p><a href="http://www.cessna.com/">Cessna</a> is best known for small, piston-powered aircrafts.</p>
	  
           </div>
	</div>
      </div>
              
    <div class="panel panel-default">
	     <div class="panel-heading">
	        <h4 class="panel-title">
		   <a data-toggle="collapse" data-parent="#accordion" href="#collapseEight">
		      Piper <!--<span class="fltr glyphicon glyphicon-globe"></span>-->
		   </a>
	        </h4>
	     </div>
	       <div id="collapseEight" class="panel-collapse collapse">
	        <div class="panel-body">
                    <img src="images/piper.gif" alt="piper" width="100px" />
<p>Headquarted in Vero Beach, Florida</p>
            <p><a href="http://www.piper.com/">Piper</a>'s PA-28 Cherokee airplanes are commonly used for pilot training around the world.</p>
	     </div>
	     </div>
	  </div>
    
    <div class="panel panel-default">
	     <div class="panel-heading">
	        <h4 class="panel-title">
		   <a data-toggle="collapse" data-parent="#accordion" href="#collapseNine">
		      Beechcraft <!--<span class="fltr glyphicon glyphicon-globe"></span>-->
		   </a>
	        </h4>
	     </div>
	       <div id="collapseNine" class="panel-collapse collapse">
	        <div class="panel-body">
                    <img src="images/beechcraft.gif" alt="beechcraft" width="100px" />
<p>Headquarted in Wichita, Kansas</p>
            <p><a href="https://www.beechcraft.com/">Beechcraft</a> has been manufacturing general aviation and military aircraft since 1932.</p>

	     </div>
	     </div>
	  </div>
    
    <div class="panel panel-default">
	     <div class="panel-heading">
	        <h4 class="panel-title">
		   <a data-toggle="collapse" data-parent="#accordion" href="#collapseTen">
		      Bell <!--<span class="fltr glyphicon glyphicon-globe"></span>-->
		   </a>
	        </h4>
	     </div>
	       <div id="collapseTen" class="panel-collapse collapse">
	        <div class="panel-body">
                    <img src="images/bell.gif" alt="bell" width="100px" />
<p>Headquarted in Buffalo, New York</p>
            <p><a href="http://www.bellhelicopter.com/">Bell</a> developed the first supersonic aircraft and the first helicopter certified for civilian use.</p>

	     </div>
	     </div>
	  </div>
    
    <div class="panel panel-default">
	     <div class="panel-heading">
	        <h4 class="panel-title">
		   <a data-toggle="collapse" data-parent="#accordion" href="#collapseEleven">
		      Mooney <!--<span class="fltr glyphicon glyphicon-globe"></span>-->
		   </a>
	        </h4>
	     </div>
	       <div id="collapseEleven" class="panel-collapse collapse">
	        <div class="panel-body">
                    <img src="images/mooney.gif" alt="mooney" width="100px" />
<p>Headquarted in Kerrville, Texas</p>
<p><a href="http://www.mooney.com/">Mooney</a> aircraft have a signature vertical stabilizer with its vertical leading edge and swept trailing edge that give the illusion of being forward-swept.</p>

	     </div>
	     </div>
	  </div>
    
	 </div>
     
   </div><!--col-md-6 end-->
</div><!--row end-->

    </div>
  </div>
</div>

<button class="btn btn-primary" a href="#" data-toggle="modal" data-target="#myModal5"><img src="images/time.gif" width="80px" style="float: none" />When during flight?</button>

<div class="modal fade bs-example-modal-lg" id="myModal5" tabindex="-1" role="dialog" aria-labelledby="myModal5" aria-hidden="true">
  <div class="modal-dialog modal-lg" >
    <div class="modal-content" >

<div class="row">
<div class="col-md-12">
    <div class="subtitle">
<h2>Broad Phase of Flight</h2>
</div><!--subtitle end-->
</div><!--col-md-12 end-->
</div><!--row end-->

<div class="row">
<div class="col-md-12">
   <div class="broad_phase">
    <!--<img src="images/phase.png" alt="phase of flight" width=100% style="display: inline-block" />-->
<div id="Chart5" style="width: 100%; height: 400px; margin: 0 auto; display: inline-block"></div>
</div><!--broad_phase end-->
</div><!--col-md-12 end-->
</div><!--row end-->
 </div>
  </div>
</div>


<div class="row">
<div class="col-md-12">
    <div class="subtitle">
<h2>Crashes by Location</h2>
</div><!--subtitle end-->
</div><!--col-md-12 end-->
</div><!--row end-->

   

<div class="row">
<div class="col-md-7">
    <div class="map">
<div id="mapdiv" style="width: 100%; height: 400px;"></div>
</div><!--chart1 end-->
</div><!--col-md-7 end-->

<div class="col-md-5">
    <div class="state_table">
        <h4>Fatal Plane Accidents in the US since 2000</h4>
    <table id="states_table"></table>
    </div><!--state_table end-->
</div><!--col-md-5 end-->
</div><!--row end-->

</div><!--container ENd-->
</div><!--container END-->

<script>
    
    //vars for year graph//
    var number = new Array;
    var crashes = new Array;
    var fatalities = new Array;
    
    //vars for weather graph//
    var condition = new Array;
    var weatherAccidents = new Array;
    var percent = new Array;
    
    //vars for amateur graph//
    var amateur = new Array;
    var amaAccidents = new Array;
    
    //vars for aircraft type graph//
    var craft = new Array;
    var craftAccidents = new Array;
    
    //vars for aircraft make graph//
    var make = new Array;
    var makeAccidents = new Array;
    
    //var for phase of flight//
    var phase = new Array;
    var flightAccidents = new Array;
    
    //var for map//
    var name = new Array;
    var abbrev = new Array;
    var accidents = new Array;
    
    var aaData = new Array;
    aaData = name, accidents;
    var aoColumns = new Array;
    aoColumns = [{ "sTitle": "State"},
                 { "sTitle": "Accidents"}];
    
     $(document).ready(function() {
	
	loadXML();
	
      });//end document ready
      
      function loadXML(){
	$.ajax({
	  type:"GET",
	  url:"years.xml",
	  dataType:"xml",
	  success: parseXML
	
	})//end ajax for years
          
          $.ajax({
	  type:"GET",
	  url:"states.xml",
	  dataType:"xml",
	  success: parseXML
	
	})//end ajax for states 
         
        }//end loadXML()
        
        function parseXML(xml){
	console.log(xml);
	$(xml).find("year").each(function(index){
	  //builds year chart
          var $year = $(this);
            number.push(parseFloat($year.attr("number")));
            crashes.push(parseFloat($year.find("crashes").text()));
	    fatalities.push(parseFloat($year.find("fatalities").text()));
            
            })
        
        console.log(xml);
        $(xml).find("states").each(function(index) {
            //builds state table
            statesArray = new Array;
            var $states = $(this);
                statesArray.push(parseFloat($states.attr("name")));
                statesArray.push(parseFloat($states.find("accidents").text()));
                
                
            })

        
        buildChart1();
        buildChart2();
        buildChart3();
        buildChart4();
        buildChart5();
         }//end parseXML()
         
         
    
      
//year chart//    
function buildChart1(){
    
    console.log(number + "|" + crashes + "|" + fatalities)
        $('#Chart1').highcharts({
            title: {
                text: 'Aircraft Crashes and Fatalities in US since 2000',
                x: -20, //center
                style: {
                    color: '#1f648a',
                    font: '20 px Didot',
                    fontWeight: 400
                },
            },
            subtitle: {
                text: 'Source: National Transportation Safety Board',
                x: -20,
                style: {
                    color: '#1f648a',
                    font: '14px Didot',
                }
            },
            xAxis: {
                categories: number,
                
                title: {
                    text: 'Year',
                    style: {
                        color: '#1f648a',
                        font: '14px Didot',
                },
                },
                
                labels: {
                    style: {
                        color: '#1f648a',
                        font: '12px Didot',
                    },
                },
            },
            yAxis: {
                allowDecimals: false,
                min: 0,
                max: 1200,
                tickInterval:200,
                title: {
                    text: 'Number',
                    style: {
                        color: '#1f648a',
                        font: '14px Didot',
                },
                },
                
                labels: {
                    style: {
                        color: '#1f648a',
                        font: '12px Didot',
                },
                },
                
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
                }]
            },
            tooltip: {
                valueSuffix: '',
                style: {
			fontSize: '16px',
			padding: '8px',
			fontFamily: 'Didot'
		}

            },
            legend: {
                layout: 'vertical',
                align: 'right',
                verticalAlign: 'middle',
                borderWidth: 0,
                style: {
                    font: 'Didot',
                }
            },
            series: [{
                name: 'Crashes',
                data: crashes,
                color: '#1f648a'
                
            }, {
                name: 'Fatalities',
                data: fatalities,
                color: '#83a0b7'
                
            }]//end series
        });
    };//end buildChart1
    
    
    
//weather chart//    
function buildChart2(){
    
    Highcharts.setOptions({
     colors: [ '#83a0b7', '#1f648a', '#bac6d2',    '#dbe4ea', '#f1f5f8']
    });
    
    $('#Chart2').highcharts({
        chart: {
            plotBackgroundColor: null,
            plotBorderWidth: null,
            plotShadow: false
        },
        title: {
            text: 'More accidents when pilots rely on visibility alone',
            style: {
                    color: '#1f648a',
                    font: '20 px Didot',
                    fontWeight: 400
                },
        },
        
        subtitle: {
            text: 'of 4358 specified',
            style: {
                    color: '#1f648a',
                    font: '14px Didot',
                }
        },
        
        tooltip: {
    	    pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>',
            style: {
			fontSize: '16px',
			padding: '8px',
			fontFamily: 'Didot'
		}
            
        },
        plotOptions: {
            pie: {
                allowPointSelect: true,
                cursor: 'pointer',
                dataLabels: {
                    enabled: true,
                    color: '#000000',
                    connectorColor: '#000000',
                    format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                style: {
                    fontFamily: 'Didot',
                }
                
                }
            }
        },
        series: [{
            type: 'pie',
            name: 'Accidents',
            data: [
                ['VMC', 80.5],
                ['IMC', 19.5] 
            ]
        }]
    });
};//end buildChart2

// add all your code to this method, as this will ensure that page is loaded
    AmCharts.ready(function() {
        // create AmMap object
        var map = new AmCharts.AmMap();
        // set path to images
        
        AmCharts.theme = AmCharts.themes.light;
        
        map.pathToImages = "ammap/images/";
        map.colorSteps = 7;
        

        /* create data provider object
         map property is usually the same as the name of the map file.

         getAreasFromMap indicates that amMap should read all the areas available
         in the map data and treat them as they are included in your data provider.
         in case you don't set it to true, all the areas except listed in data
         provider will be treated as unlisted.
        */
        var dataProvider = {
            map: "usaLow",
            
            
            areas: [{
			id: "US-AL",
                        title: 'Alabama <b> 71</b>',
			value: 71
		}, {
			id: "US-AK",
                        title: 'Alaskak <b> 152</b>',
			value: 152
		}, {
			id: "US-AZ",
                        title: 'Arizona <b> 176</b>',
			value: 176
		}, {
			id: "US-AR",
                        title: 'Arkansas <b> 76</b>',
			value: 76
		}, {
			id: "US-CA",
                        title: 'California <b> 518</b>',
			value: 518
		}, {
			id: "US-CO",
                        title: 'Colorado <b> 157</b>',
			value: 157
		}, {
			id: "US-CT",
                        title: 'Connecticut <b> 22</b>',
			value: 22
		}, {
			id: "US-DE",
                        title: 'Delaware <b> 12</b>',
			value: 12
		}, {
			id: "US-FL",
                        title: 'Florida <b> 328</b>',
			value: 328
		}, {
			id: "US-GA",
                        title: 'Georgia <b> 142</b>',
			value: 142
		}, {
			id: "US-HI",
                        title: 'Hawaii <b> 32</b>',
			value: 32
		}, {
			id: "US-ID",
                        title: 'Idaho <b> 84</b>',
			value: 84
		}, {
			id: "US-IL",
                        title: 'Illinois <b> 82</b>',
			value: 82
		}, {
			id: "US-IN",
                        title: 'Indiana <b> 60</b>',
			value: 60
		}, {
			id: "US-IA",
                        title: 'Iowa <b> 46</b>',
			value: 46
		}, {
			id: "US-KS",
                        title: 'Kansas <b> 43</b>',
			value: 43
		}, {
			id: "US-KY",
                        title: 'Kentucky <b> 54</b>',
			value: 54
		}, {
			id: "US-LA",
                        title: 'Louisiana <b> 65</b>',
			value: 65
		}, {
			id: "US-ME",
                        title: 'Maine <b> 31</b>',
			value: 31
		}, {
			id: "US-MD",
                        title: 'Maryland <b> 38</b>',
			value: 38
		}, {
			id: "US-MA",
                        title: 'Massachusets <b> 43</b>',
			value: 43
		}, {
			id: "US-MI",
                        title: 'Michigan <b> 96</b>',
			value: 96
		}, {
			id: "US-MN",
                        title: 'Minnesota <b> 66</b>',
			value: 66
		}, {
			id: "US-MS",
                        title: 'Mississippi <b> 53</b>',
			value: 53
		}, {
			id: "US-MO",
                        title: 'Missouri <b> 79</b>',
			value: 79
		}, {
			id: "US-MT",
                        title: 'Montana <b> 54</b>',
			value: 54
		}, {
			id: "US-NE",
                        title: 'Nebraska <b> 32</b>',
			value: 32
		}, {
			id: "US-NV",
                        title: 'Nevada <b> 77</b>',
			value: 77
		}, {
			id: "US-NH",
                        title: 'New Hampshire <b> 13</b>',
			value: 13
		}, {
			id: "US-NJ",
                        title: 'New Jersey <b> 52</b>',
			value: 52
		}, {
			id: "US-NM",
                        title: 'New Mexico <b> 70</b>',
			value: 70
		}, {
			id: "US-NY",
                        title: 'New York <b> 91</b>',
			value: 91
		}, {
			id: "US-NC",
                        title: 'North Carolina <b> 110</b>',
			value: 110
		}, {
			id: "US-ND",
                        title: 'North Dakota <b> 15</b>',
			value: 15
		}, {
			id: "US-OH",
                        title: 'Ohio <b> 89</b>',
			value: 89
		}, {
			id: "US-OK",
                        title: 'Oklahoma <b> 84</b>',
			value: 84
		}, {
			id: "US-OR",
                        title: 'Oregon <b> 103</b>',
			value: 103
		}, {
			id: "US-PA",
                        title: 'Pennsylvania <b> 88</b>',
			value: 88
		}, {
			id: "US-RI",
                        title: 'Rhode Island <b> 9</b>',
			value: 9
		}, {
			id: "US-SC",
                        title: 'South Carolina <b> 72</b>',
			value: 72
		}, {
			id: "US-SD",
                        title: 'South Dakota <b> 30</b>',
			value: 30
		}, {
			id: "US-TN",
                        title: 'Tennessee <b> 79</b>',
			value: 79
		}, {
			id: "US-TX",
                        title: 'Texas <b> 295</b>',
			value: 295
		}, {
			id: "US-UT",
                        title: 'Utah <b> 88</b>',
			value: 88
		}, {
			id: "US-VT",
                        title: 'Vermont <b> 10</b>',
			value: 10
		}, {
			id: "US-VA",
                        title: 'Virginia <b> 86</b>',
			value: 86
		}, {
			id: "US-WA",
                        title: 'Washington <b> 117</b>',
			value: 117
		}, {
			id: "US-WV",
                        title: 'West Virginina <b> 28</b>',
			value: 28
		}, {
			id: "US-WI",
                        title: 'Wisconsin <b> 88</b>',
			value: 88
		}, {
			id: "US-WY",
                        title: 'Wyoming <b> 45</b>',
			value: 45
		}]

            
        };
        
        map.zoomControl.buttonRollOverColor = "#3c5bdc";
	map.zoomControl.buttonBorderColor = "#939597";
        map.zoomControl.homeIconColor = "#C5DAE6";
	map.zoomControl.buttonFillColor = "#C6C8CA";
        
        // pass data provider to the map object
        map.dataProvider = dataProvider;
        
        var valueLegend = new AmCharts.ValueLegend();
			    valueLegend.right = 10;
			    valueLegend.minValue = "1-10";
			    valueLegend.maxValue = "500+";
			    valueLegend.borderColor= "#C5DAE6";
			    map.valueLegend = valueLegend;

        /* create areas settings
         * autoZoom set to true means that the map will zoom-in when clicked on the area
         * selectedColor indicates color of the clicked area.
         */
        map.areasSettings = {
            autoZoom: true,
            selectedColor: "#3c5bdc"
        };

        // let's say we want a small map to be displayed, so let's create it
        map.smallMap = new AmCharts.SmallMap();

        // write the map to container div
        map.write("mapdiv");
    });
    
    
$(document).ready(function() {
    $('#states_table').html( '<table cellpadding="0" cellspacing="0" border="0" class="display" id="states_table"></table>' );
    $('#states_table').dataTable( {
        "aaData": [
            [ "Alabama", 71],
            [ "Alaska", 152],
            [ "Arizona", 176],
            [ "Arkansas", 76],
            [ "California", 518],
            [ "Colorado", 157],
            [ "Connecticut", 22],
            [ "Delaware", 12],
            [ "Florida", 328],
            [ "Georgia", 142],
            [ "Hawaii", 32],
            [ "Idaho", 84],
            [ "Illinois", 82],
            [ "Indiana", 60],
            [ "Iowa", 46],
            [ "Kansas", 43],
            [ "Kentucky", 54],
            [ "Louisiana", 65],
            [ "Maine", 31],
            [ "Maryland", 38],
            [ "Massachusets", 43],
            [ "Michigan", 96],
            [ "Minnesota", 66],
            [ "Mississippi", 53],
            [ "Missouri", 79],
            [ "Montana", 54],
            [ "Nebraska", 32],
            [ "Nevada", 77],
            [ "New Hampshire", 13],
            [ "New Jersey", 52],
            [ "New Mexico", 70],
            [ "New York", 91],
            [ "North Carolina", 110],
            [ "North Dakota", 15],
            [ "Ohio", 89],
            [ "Oklahoma", 84],
            [ "Oregon", 103],
            [ "Pennsylvania", 88],
            [ "Rhode Island", 9],
            [ "South Carolina", 72],
            [ "South Dakota", 30],
            [ "Tennessee", 79],
            [ "Texas", 295],
            [ "Utah", 88],
            [ "Vermont", 10],
            [ "Virginia", 86],
            [ "Washington", 117],
            [ "West Virginia", 28],
            [ "Wisconsin", 88],
            [ "Wyoming", 45],

    ],
        "aoColumns": aoColumns
    } );   
} );


//type of aircraft//    
function buildChart3(){
    $('#Chart3').highcharts({
        chart: {
            plotBackgroundColor: null,
            plotBorderWidth: null,
            plotShadow: false
        },
        title: {
            text: 'Type of Aircraft Crashes in US',
            style: {
                    color: '#1f648a',
                    font: '20 px Didot',
                    fontWeight: 400
                },
        },
        
        subtitle: {
            text: 'Source: National Transportation Safety Board',
            style: {
                    color: '#1f648a',
                    font: '14px Didot',
                }
        },
        
        tooltip: {
    	    pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>',
            style: {
			fontSize: '16px',
			padding: '8px',
			fontFamily: 'Didot'
		}
            
            
        },
        plotOptions: {
            pie: {
                allowPointSelect: true,
                cursor: 'pointer',
                dataLabels: {
                    enabled: true,
                    color: '#000000',
                    connectorColor: '#000000',
                    format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                    style: {
                    fontFamily: 'Didot',
                }
                }
            }
        },
        series: [{
            type: 'pie',
            name: 'Aircraft Type',
            data: [
                ['Airplanes', 87.3],
                ['Helicopters', 9.8],
                ['Gliders', 2.0],
                ['Gyrocrafts', 0.6],
                ['Balloons', 0.2],
                ['Ultralights', 0.1],
            ],
        }]
    });
};//end buildChart3



    
//build aircraft make chart
function buildChart4() {
        $('#Chart4').highcharts({
            chart: {
                type: 'bar'
            },
            title: {
                text: 'Aircraft Make with Top Accidents',
                 style: {
                    color: '#1f648a',
                    font: '20 px Didot',
                    fontWeight: 400
                },
            },
            subtitle: {
                text: 'Source: National Transportation Safety Board',
                style: {
                    color: '#1f648a',
                    font: '14px Didot',
                }
            },
            xAxis: {
                categories: ['<img src="images/cessna.gif" alt="cessna" width="50px" />', '<img src="images/piper.gif" alt="piper" width="50px" />', '<img src="images/beechcraft.gif" alt="beechcraft" width="50px" />', '<img src="images/bell.gif" alt="bell" width="50px" />', '<img src="images/mooney.gif" alt="mooney" width="50px" />'],
                  useHTML: true,
                  categories: [ 'Cessna', 'Piper', 'Beechcraft', 'Bell', 'Mooney'],  
                    
                labels: {
                    
                    text: null,
                    useHTML: true,
                    style: {
                        color: '#1f648a',
                        font: '12px Didot',
                },
                }
            },
            yAxis: {
                min: 0,
                title: {
                    text: 'Accidents',
                    align: 'high',
                    style: {
                        color: '#1f648a',
                        font: '14px Didot',
                },
                },
                labels: {
                    overflow: 'justify',
                    style: {
                        color: '#1f648a',
                        font: '12px Didot',
                },
                }
            },
            tooltip: {
                disabled: true,
                valueSuffix: ' accidents',
                style: {
			fontSize: '16px',
			padding: '8px',
			fontFamily: 'Didot'
		}
            },
            plotOptions: {
                bar: {
                    dataLabels: {
                        enabled: true,
                        style: {
                        color: '#1f648a',
                        font: '12px Didot',
                },
                    }
                }
            },
            legend: {
                layout: 'vertical',
                align: 'right',
                verticalAlign: 'top',
                x: -40,
                y: 100,
                floating: true,
                borderWidth: 1,
                backgroundColor: '#FFFFFF',
                shadow: true,
                style: {
                        font: 'Didot',
                },
            },
            credits: {
                enabled: false
            },
            series: [{
                name: 'Since 2000',
                data: [998, 685, 408, 114, 96],
                color: '#1f648a'
            }]
        });
    };
    
function buildChart5() {
    $('#Chart5').highcharts({
            chart: {
                type: 'column'
            },
            title: {
                text: 'When accidents occur during the flight',
                style: {
                        color: '#1f648a',
                        font: '20px Didot',
                },
            },
            subtitle: {
                text: 'Source: National Transportation Safety Board',
                style: {
                        color: '#1f648a',
                        font: '14px Didot',
                },
            },
            
           
            
            xAxis: {
                categories: [
                    'Taxi',
                    'Maneuvering',
                    'Take Off',
                    'Climb',
                    'Go-Around',
                    'Cruise',
                    'Descent',
                    'Approach',
                    'Landing',
                    'Standing',
                    'Unknown',
                    'Other'
                ],
                title: {
                    text: 'Phase of Flight',
                    style: {
                        color: '#1f648a',
                        font: '14px Didot',
                    },
                   },
                
               labels: {
                    style:{
                        color: '#1f648a',
                        font: '12px Didot',
                    }
                } 
            },
            yAxis: {
                min: 0,
                title: {
                    text: 'Accidents',
                   
                    style: {
                        color: '#1f648a',
                        font: '14px Didot',
                    },
                },
                
                labels: {
                    style:{
                        color: '#1f648a',
                        font: '12px Didot',
                    }
                }
            },
            tooltip: {
                headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name} </td>' +
                    '<td style="padding:0"><b>{point.y} accidents</b></td></tr>',
                footerFormat: '</table>',
                shared: true,
                useHTML: true,
                style: {
                    fontFamily: 'Didot',
                }
            },
            plotOptions: {
                column: {
                    pointPadding: 0.2,
                    borderWidth: 0
                }
            },
            series: [{
                name: ' ',
                data: [12, 1159, 682, 165, 197, 681, 162, 593, 121, 33, 82, 7],
                color: '#1f648a'
            }]
    });
      
        
    };

    
    
</script>

</body>
</html>
